### 3. Statement (İfade)

```
<statement> ::= <variable_declaration>
              | <assignment>
              | <function_call>
              | <function_definition>
              | <conditional>
              | <try_catch>
              | <loop>
              | <output>
              | <input>
              | <import>
              | <comment>
```

- `<import>` → başka dosya veya modül dahil etme
- `<comment>` → doğal dil yorum (örn: `# Bu bir yorumdur`)

---

### 4. Değişken Tanımlama

```
<variable_declaration> ::= <variable_name> "'" <type> "olarak tanımla"
                          | <variable_name> "=" <expression>
<assignment> ::= <variable_name> "=" <expression>
```

- `<variable_name>` → snake_case format: küçük harfler, alt çizgi ile ayrılmış, UTF-8 harfleri destekler (örn: `toplam_değer`, `x`, `liste_adı`)

```
<variable_name> ::= <letter> { <letter> | <digit> | "_" }   # snake_case standardı, UTF-8 harfleri dahil
```

- `<type>` → `"tamsayı" | "ondalıklı" | "metin" | "mantıksal" | "istek"`
- **Örnekler:**

```otağ
x'ı tamsayı olarak tanımla
e'yi tamsayı olarak tanımla
toplam_değer'i tamsayı olarak tanımla
sonuç'u istek olarak tanımla
puan = 50
```

---

### 5. Fonksiyon Çağrısı (Ünlem ile)

```
<function_call> ::= <function_name> "!" <parameter_list> [ "eğer hatalıysa" <error_action> ]
<function_name> ::= <word> { "_" <word> }   # snake_case, uzun doğal dil isimleri
<parameter_list> ::= <parameter> { "," <parameter> }
<parameter> ::= <parameter_name> ":" <expression>
<parameter_name> ::= <word>
<error_action> ::= "dur" | "devam et" | "hata de ki" <string>
```

- Eğer "eğer hatalıysa" belirtilmezse, varsayılan olarak "dur" (programı durdur) uygulanır.
- Hata oluşursa, "dene" bloğu içinde ise yakalanır, değilse program durur.

**Örnekler:**

```otağ
dosyaya_yaz! dosya: "notlar.txt", içerik: "Merhaba Dünya" eğer hatalıysa hata de ki "Yazma hatası"
listeye_ekle! liste: "alis_listesi", değer: 42  # varsayılan: dur
```

---

### 5.1 Fonksiyon Tanımlama

```
<function_definition> ::= "fonksiyon" <function_name> "!" <parameter_list>
                           { <statement> }
                         "döndür" <expression>
```

**Örnek:**

```otağ
fonksiyon topla! a: tamsayı, b: tamsayı
    sonuç = a + b
    döndür sonuç
```

---

### 6. Koşullar

```
<conditional> ::= "eğer" <expression> "ise"
                    { <statement> }
                  ["aksi halde"
                    { <statement> }]
```

**Örnek:**

```otağ
eğer x > 10 ise
    söyle "x ondan büyük"
aksi halde
    söyle "x küçük veya eşit"
```

---

### 6.1 Try-Catch (Dene-Yakala)

```
<try_catch> ::= "dene"
                   { <statement> }
                 "eğer hata varsa"
                   { <statement> }
                 ["aksi halde"
                   { <statement> }]
                 ["her daim"
                   { <statement> }]
```

- "dene" bloğu içindeki hatalar yakalanır ve "eğer hata varsa" ile kontrol edilir.
- "her daim" bloğu her zaman çalışır (finally gibi).

**Örnek:**

```otağ
dene
    dosyaya_yaz! dosya: "notlar.txt", içerik: "Merhaba Dünya" eğer hatalıysa devam et
eğer hata varsa
    söyle "Dosya yazma hatası"
aksi halde
    söyle "Dosya başarıyla yazıldı"
her daim
    söyle "İşlem tamamlandı"
```

---

### 7. Döngüler

```
<loop> ::= <expression> "iken tekrarla"
             { <statement> }
```

**Örnek:**

```otağ
x < 10 iken tekrarla
    söyle x
    x'i 1 artır
```

---

### 8. Giriş/Çıkış

```
<output> ::= "söyle" <expression>
<input> ::= <variable_name> "=" "oku" [ <string> ]
```

- `oku` komutu kullanıcıdan veri almak için kullanılır. Opsiyonel mesaj gösterebilir.

**Örnek:**

```otağ
isim = oku "Adınızı girin: "
```

---

### 9. Matematiksel İfadeler

```
<expression> ::= <expression> "+" <expression>
               | <expression> "-" <expression>
               | <expression> "*" <expression>
               | <expression> "/" <expression>
               | <expression> ">" <expression>
               | <expression> "<" <expression>
               | <expression> "==" <expression>
               | <expression> "!=" <expression>
               | <expression> "ve" <expression>
               | <expression> "veya" <expression>
               | "değil" <expression>
               | "-" <expression>
               | <number>
               | <string>
               | <boolean>
               | <variable_name>
               | "(" <expression> ")"
               | <function_call>
               | <list_access>
               | <dict_access>
<boolean> ::= "doğru" | "yanlış"
<list_access> ::= <variable_name> "[" <expression> "]"
<dict_access> ::= <variable_name> "[" <string> "]"
```

---

### 10. Veri Yapıları

```
<list_creation> ::= "liste_oluştur" "!" "isim" ":" <string>
<list_add> ::= "listeye_ekle" "!" "liste" ":" <string> "," "değer" ":" <expression>
<dict_creation> ::= "sözlük_oluştur" "!" "isim" ":" <string>
<dict_add> ::= "sözlüğe_ekle" "!" "sözlük" ":" <string> "," "anahtar" ":" <string> "," "değer" ":" <expression>
```

**Örnekler:**

```otağ
liste_oluştur! isim: "alis_listesi"
listeye_ekle! liste: "alis_listesi", değer: 42
sözlük_oluştur! isim: "telefon_defteri"
sözlüğe_ekle! sözlük: "telefon_defteri", anahtar: "Ali", değer: "555-1234"
değer = alis_listesi[0]
telefon = telefon_defteri["Ali"]
```

---

### 11. Modüller / Dosya Yönetimi

```
<import> ::= "içer" <string>   # örn: içer "modul.otag"
```

- Scope: global ve local ayrımı
- Birden fazla dosya içerme destekli

---

### 12. Yorumlar

```
<comment> ::= "#" { <any_character_except_newline> }
```
